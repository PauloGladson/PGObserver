<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>PGObserver by Zalando</title>
    <link type="image/x-icon" href="images/favico.png" rel="icon">
    <link rel="canonical" href="http://zalando.github.io/PGObserver">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="template/templatescripts.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-40533395-4', 'zalando.github.io');
        ga('send', 'pageview');
    </script>
</head>
<body>
    <div id="wrapper">
        <div id="menu-wrapper"></div>

        <div style="height:30px;"></div>
        <div id="page">

            <div class="inner">
                <div><h1 style="float:left; width:65%;">PGObserver</h1></div>
                <img src="images/pgobserver.png" style="width:350px;">
            </div>

            <div class="inner">
                <p>
                    The PGObserver tool was developed at Zalando during the past years to monitor performance metrics
                    of our different PostgreSQL clusters. Due to our use of a stored procedure (SProc) API layer our strong
                    focus was on monitoring that API layer. However the number of metrics was increased to
                    include other metrics relevant to PostgreSQL performance:
                </p>
            </div>

            <div id="topfacts" class="inner">
                <div>
                    <h3>SProc Data</h3>
                    <p>
                        Number of calls.<br />
                        Run time per procedure.<br />
                        Self time per procedure.
                    </p>
                </div>
                <div>
                    <h3>Table IO Stats</h3>
                    <p>
                        Sequential and index scans.<br />
                        Inserts, (hot) updates, deletes.<br />
                        Table and index sizes.<br />
                        Cache hits vs disk hits.
                    </p>
                </div>
                <div>
                    <h3>And more...</h3>
                    <p>
                        CPU load is tracked<br />
                        WAL amount written is tracked<br />
                    </p>
                </div>
            </div>

        </div>

        <div class="inner">
            <h3>Screenshots</h3>
        </div>

        <div class="screenshot inner">
            <img src="images/ss_load3.jpg" />
            <p>Dashboard with top stored procedures for the last 1 and 3 hours. Displaying top 10 by number of calls, total time spend, and average run time.
            These values can be customized on the configuration file.</p>
        </div>

        <div class="screenshot inner">
            <img src="images/ss_load2.jpg" />
            <p>General stats about a specific stored procedure. These graphs are all rendered
            on the browser, so you can use the mouse to zoom in and out to specific time frames.</p>
        </div>
        <div class="screenshot inner">
            <img src="images/ss_load1.jpg" />
            <p>Graphs showing CPU load and time spend in stored procedures, quickly showing displaying if something is of, e.g., lock contention.</p>
        </div>

        <div class="inner">
            <h3>Setup and Configuration</h3>
        </div>

       <div class="inner">
            <p>
                Basically PGObserver consists of two components, a Python web frontend plus a Java data gatherer. One gatherer takes care of monitoring a defined set of PostgreSQL databases and snapshotting the performance views in defined intervals. The amount of snapshots can be configured on a per database per metric way, giving you more flexibility what you want to monitor and how much data will be created. You can setup more than one gatherer, if required, each with its own set of clusters to monitor.
            </p>
       </div>

        <div class="clear"></div>

        <a id="fork" href="https://github.com/zalando/PGObserver/fork" title="Fork PGObserver on GitHub"></a>

        <div id="footer-notes">
            <div class="inner">
                <code class="right">
                    $ git clone git@github.com:zalando/PGObserver.git
                </code>
                <h3>
                    Open Source
                </h3>
                <div>
                    The PGObserver is just one of our Python/PostgreSQL tools developed and used by Zalando's database team,
                    and we want to share it with you. Go grab it, it's free: to use, to share, and to hack.
                </div>
            </div>
        </div>

        <div id="footer-wrapper"></div>
    </div>
</body>
</html>
